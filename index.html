<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI è‡ªå‹•è©•åˆ†è‹±èªé›»å­æ›¸</title>
    <style>
        body { font-family: 'PingFang HK', sans-serif; background: #f8fafc; display: flex; flex-direction: column; align-items: center; padding: 20px; color: #1e293b; }
        .word-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; width: 100%; max-width: 900px; }
        .word-card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); text-align: center; border: 3px solid #e2e8f0; transition: all 0.3s ease; }
        .word-card.recording { border-color: #3b82f6; background: #eff6ff; transform: scale(1.02); }
        .word-card.correct { border-color: #22c55e; background: #f0fdf4; }
        .word-card.wrong { border-color: #ef4444; background: #fef2f2; }
        .word-text { font-size: 36px; font-weight: 800; margin-bottom: 8px; color: #0f172a; cursor: pointer; }
        .word-text:hover { color: #3b82f6; }
        .status-badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; margin-bottom: 15px; background: #f1f5f9; }
        .score-box { font-size: 18px; font-weight: bold; margin: 10px 0; min-height: 27px; }
        .suggestion { font-size: 14px; color: #64748b; line-height: 1.5; min-height: 42px; }
        button { margin-top: 15px; padding: 12px 24px; border: none; border-radius: 12px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.2s; width: 100%; }
        .btn-start { background: #3b82f6; color: white; }
        .btn-start:disabled { background: #94a3b8; cursor: not-allowed; }
        .pulse { animation: pulse-red 1.5s infinite; }
        @keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); } 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); } }
    </style>
</head>
<body>

    <h1 style="margin-bottom: 5px;">ğŸ“ AI ç™¼éŸ³è‡ªå‹•è©•åˆ†</h1>
    <p style="color: #64748b; margin-bottom: 30px;">è½ç¤ºç¯„éŸ³å¾Œï¼ŒæŒ‰æŒ‰éˆ•ä¸¦æœ—è®€ï¼Œç³»çµ±æœƒè‡ªå‹•è©•åˆ†</p>

    <div class="word-grid" id="grid"></div>

    <script>
        const words = ["Apple", "Banana", "Cherry", "Dragonfruit", "Elderberry", "Fig", "Grape"];
        
        // è¨­å®šèªéŸ³è¾¨è­˜
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        const recognition = new SpeechRecognition();
        recognition.lang = 'en-GB';
        recognition.continuous = false; // èªªå®Œè‡ªå‹•åœæ­¢
        recognition.interimResults = false;

        const grid = document.getElementById('grid');

        words.forEach((word, index) => {
            const card = document.createElement('div');
            card.className = 'word-card';
            card.id = `card-${index}`;
            card.innerHTML = `
                <div class="word-text" onclick="speak('${word}')">${word} ğŸ”Š</div>
                <div class="status-badge" id="status-${index}">å¾…å‘½ä¸­</div>
                <div class="score-box" id="score-${index}"></div>
                <div class="suggestion" id="suggest-${index}">é»æ“Šå–®å­—è½è‹±å¼è®€éŸ³</div>
                <button class="btn-start" id="btn-${index}" onclick="runAI(${index}, '${word}')">ğŸ¤ é–‹å§‹éŒ„éŸ³è©•åˆ†</button>
            `;
            grid.appendChild(card);
        });

        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-GB';
            window.speechSynthesis.speak(utterance);
        }

        function runAI(index, target) {
            const btn = document.getElementById(`btn-${index}`);
            const card = document.getElementById(`card-${index}`);
            const status = document.getElementById(`status-${index}`);
            const score = document.getElementById(`score-${index}`);
            const suggest = document.getElementById(`suggest-${index}`);

            // é‡ç½®ä»‹é¢
            card.className = 'word-card recording pulse';
            status.innerText = "ğŸ”´ æ­£åœ¨è†è½...";
            score.innerText = "";
            suggest.innerText = "è«‹å¤§è²æœ—è®€å–®å­—...";
            btn.disabled = true;

            recognition.start();

            recognition.onresult = (event) => {
                const result = event.results[0][0].transcript.toLowerCase().trim().replace(/[.,!]/g, "");
                const targetLower = target.toLowerCase();

                if (result === targetLower) {
                    card.className = 'word-card correct';
                    status.innerText = "âœ… è¾¨è­˜å®Œæˆ";
                    score.innerText = "ğŸ’¯ è©•åˆ†ï¼šå®Œç¾ï¼";
                    score.style.color = "#16a34a";
                    suggest.innerText = "ä½ çš„ç™¼éŸ³éå¸¸æ¨™æº–ï¼Œè«‹ç¹¼çºŒä¿æŒã€‚";
                } else {
                    card.className = 'word-card wrong';
                    status.innerText = "âŒ è¾¨è­˜å®Œæˆ";
                    score.innerText = "ğŸ“‰ è©•åˆ†ï¼šéœ€è¦æ”¹é€²";
                    score.style.color = "#dc2626";
                    suggest.innerText = `ä½ èªªäº† "${result}"ã€‚å»ºè­°ï¼šå¤šè½å¹¾æ¬¡ç¤ºç¯„éŸ³ï¼Œæ³¨æ„é‡éŸ³ä½ç½®ã€‚`;
                }
            };

            recognition.onspeechend = () => {
                recognition.stop();
                btn.disabled = false;
                btn.innerText = "ğŸ”„ é‡æ–°è©•åˆ†";
            };

            recognition.onerror = (event) => {
                recognition.stop();
                btn.disabled = false;
                card.className = 'word-card';
                status.innerText = "âš ï¸ å‡ºéŒ¯äº†";
                suggest.innerText = "æ²’è½æ¸…æ¥šï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼ˆè¨˜å¾—å…è¨±éº¥å…‹é¢¨æ¬Šé™ï¼‰ã€‚";
            };
        }
    </
